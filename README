Debian 11 Surface Pro 5 Workstation Setup
-----------------------------------------

Install Debian 11

-----

Change LXDE Desktop Resolution

Click on the LXDE menu button
Point at Preferences, click on Monitor Settings
Change Resolution to: 1440x900
Click Apply button
Click Ok button
Click Save button

-----

Setup WiFi

Click on LXDE menu button
Point at Preferences, click on Connman Settings
Enable WiFi
Select your WiFi SysID and enter passphrase
Edit your WiFi SysID connection and enable Autoconnect
Click Apply button
Exit out of Connman Settings

-----

Install custome Surface Linux kernel
https://github.com/linux-surface/linux-surface/wiki/Installation-and-Setup

First you need to import the keys we use to sign packages.

wget -qO - https://raw.githubusercontent.com/linux-surface/linux-surface/master/pkg/keys/surface.asc \
    | gpg --dearmor | sudo dd of=/etc/apt/trusted.gpg.d/linux-surface.gpg

After this you can add the repository configuration and update APT.

echo "deb [arch=amd64] https://pkg.surfacelinux.com/debian release main" \
	| sudo tee /etc/apt/sources.list.d/linux-surface.list

sudo apt update

Now you can install the linux-surface kernel and its dependencies. 
You should also enable the iptsd service for touchscreen support.

sudo apt install linux-image-surface linux-headers-surface iptsd libwacom-surface
sudo systemctl enable iptsd

After that you can install our secureboot key. 
This will import the key that the linux-surface kernel is signed with into your bootloader, so that the kernel is bootable without disabling secureboot. 
This package will print instructions to the terminal, so please install it on its own, not as part of a bigger batch of packages.

sudo apt install linux-surface-secureboot-mok

If your Debian derivate does not support secure boot, please skip the last step.

The linux-surface kernel will be installed alongside the default kernel provided by the distribution. 
This way you have a backup kernel you can use if something goes wrong. 
The bootloader will pick up the kernel by default, but you should update its configuration to make sure it was recognized.

sudo update-grub

Finally, reboot your system and you should boot into the linux-surface kernel. 
Please make sure you are actually using the right kernel by checking if the output of
 
uname -a 

or

uname -r

contains the string "surface". 
If it doesn't contain that string, you are still using the default kernel and need to configure your bootloader.

-----

Change Monitor Resolution



-----

Installing 32bit libs on a 64bit Debian Linux system
This will allow you to run 32bit applications on your 64bit system.

To install 32-bit libraries, open Terminal and type:
    sudo apt install lib32z1 
	(you will need to enter your password).

    sudo apt update

Restart your computer.

-----

Megasquirt compiler

Download from:
http://www.msextra.com/tools/s12buildtools-linux32bit-2012-10-24.tar.gz

Install
sudo su
cd /
tar xfz /home/<userID>/Downloads/s12buildtools-linux32bit-2012-10-24/tools.tar.gz

-----

Megasquirt 3 source code
https://www.msextra.com/downloads/dev/ms3/


